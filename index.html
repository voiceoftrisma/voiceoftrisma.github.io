<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Voice of Trisma, The Best Online Radio in Bali</title>
    
    <meta name="description" content="“Voice of Trisma atau VOT adalah radio komunitas yang dibentuk oleh Madyapadma Journalistic Park SMA Negeri 3 Denpasar.">
    <meta name="keywords" content="VOT, Voice of Trisma, Radio Trisma, Radio SMA Negeri 3 Denpasar, Trisma Denpasar, Radio Madyapadma">
    <meta property="og:site_name" content="Voice of Trisma">
    <meta property="og:title" content="Voice of Trisma">
    <meta name="application-name" content="Voice of Trisma">
    <meta name="google-site-verification" content="7mjHa2WVudF6PQ6pueDkClMp03F8EjEGRVqzStK7UrE" />

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "url": "https://madyapadma-online.com/",
        "logo": "./madyapadma.svg",
        "name": "Madyapadma Online",
        "sameAs": [
            "https://www.instagram.com/madyapadma",
            "https://www.youtube.com/@Madyapadmatrisma",
            "https://github.com/Sparkplugx1904"
        ]
    }
    </script>

    <link rel="icon" href="./madyapadma.svg" type="image/png">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <style>
        /* Tambahan style minor untuk merapikan layout inline */
        .header-flex { display: flex; align-items: center; justify-content: flex-end; }
        .player-container { padding: 15px; background: #fff; border: 1px solid #ddd; border-radius: 5px; }
        .footer-icons img { margin: 0 10px; transition: transform 0.2s; }
        .footer-icons img:hover { transform: scale(1.1); }
    </style>
</head>
<body>

    <header id="sp-header" style="padding: 15px 0; border-bottom: 1px solid #eee;">
        <div class="container">
            <div class="row" style="display: flex; align-items: center;">
                <div class="col-sm-3 col-xs-6">
                    <a class="logo" href="https://madyapadma-online.com/">
                        <img src="./madyapadma-voice-of-trisma.svg" alt="Madyapadma Journalistic Park" style="max-height: 100px;">
                    </a>
                </div>

                <div class="col-sm-6 hidden-xs">
                    <nav></nav>
                </div>

                <div class="col-sm-3 col-xs-6 text-right">
                    <div class="header-flex">
                        <div id="siteClock" class="site-clock" aria-live="polite" title="Waktu WITA">--:--:--</div>
                        <script>
                            function pad(n){ return String(n).padStart(2, '0'); }
                            function updateClock(){
                            const now = new Date();
                            // Gunakan waktu WITA (UTC+8)
                            const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
                            const witaTime = new Date(utc + (8 * 3600000));
                            const hh = pad(witaTime.getHours());
                            const mm = pad(witaTime.getMinutes());
                            const ss = pad(witaTime.getSeconds());
                            const el = document.getElementById('siteClock');
                            if(el) el.textContent = hh + ':' + mm + ':' + ss + ' WITA';
                            }
                            // Inisialisasi dan timer
                            updateClock();
                            setInterval(updateClock, 1000);
                        </script>
                        <button id="toggleModeBtn" class="btn btn-default" style="margin-left: 10px;" title="Ganti Tema">
                            <i id="modeIcon" class="fa fa-moon-o"></i>
                        </button>
                        <script>
                        // Light/Dark mode toggle
                        const modeBtn = document.getElementById('toggleModeBtn');
                        const modeIcon = document.getElementById('modeIcon');
                        function setMode(dark) {
                        document.body.classList.toggle('dark-mode', dark);
                        modeIcon.className = dark ? 'fa fa-sun-o' : 'fa fa-moon-o';
                        modeBtn.title = dark ? 'Switch ke Light Mode' : 'Switch ke Dark Mode';
                        // Simpan preferensi di localStorage
                        localStorage.setItem('votdenpasar-darkmode', dark ? '1' : '0');
                        }
                        // Cek preferensi awal
                        (() => {
                        const pref = localStorage.getItem('votdenpasar-darkmode');
                        setMode(pref === '1');
                        })();
                        modeBtn.onclick = () => {
                        setMode(!document.body.classList.contains('dark-mode'));
                        };

                        document.getElementById('sortBtn').addEventListener('click', () => {
                        state.sortDesc = !state.sortDesc;
                        document.getElementById('sortBtn').textContent = 'Urut: ' + (state.sortDesc ? 'Terbaru' : 'Terlama');
                        render();
                        });
                        document.getElementById('refreshBtn').addEventListener('click', () => { delete pageCache[state.page]; state.allData = []; state.page = 1; loadJson(state.page); });

                        </script>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        
        <div id="streamPlayerBox" class="row" style="margin: 20px 0;">
            <div class="col-xs-12">
                <div id="streamPlayer" class="player-container">
                    <strong><i class="fa fa-rss"></i> Live Stream:</strong>
                    <span id="streamStatus" style="margin-left: 10px;">Memuat stream…</span>
                    <audio id="streamAudio" controls preload="none" style="width: 100%; margin-top: 10px;" hidden></audio>
                </div>
            </div>
        </div>

        <div class="toolbar row" style="margin-bottom: 20px;">
            <div class="col-sm-8">
                <div class="input-group">
                    <input id="q" type="text" class="form-control" placeholder="Cari tanggal atau ID… (mis. 29-08-25)">
                    <span class="input-group-btn">
                        <button class="btn btn-default search-btn" type="button">
                            <i class="fa fa-search"></i>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-sm-4 text-right">
                <div class="btn-group">
                    <button class="btn btn-default" id="sortBtn">Urut: Terbaru</button>
                    <button class="btn btn-primary" id="refreshBtn">Muat Ulang</button>
                </div>
            </div>
        </div>

        <div id="list" class="list-group"></div>
        <!-- Pagination controls -->
        <div id="pagination" class="text-center" style="margin:20px 0;"></div>

    </main>

    <footer class="footer" style="padding: 30px 0; margin-top: 40px; border-top: 1px solid #eee;">
        <div class="container text-center footer-icons">
            <a href="https://github.com/Sparkplugx1904/VOT-Denpasar" target="_blank" title="Repo GitHub">
                <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" alt="GitHub" width="20" height="20">
            </a>
            <a href="https://madyapadma-online.com/" target="_blank" title="Madyapadma Online">
                <img src="./madyapadma.svg" alt="Madyapadma" width="33" style="filter: brightness(0);">
            </a>
            <a href="https://i.klikhost.com/cp/widgets/player/?p=8502&type=shark" target="_blank" title="KBRF Madyapadma">
                <img src="./kbrf.svg" alt="KBRF" width="20" style="filter: brightness(0);">
            </a>
            <a href="https://archive.org/details/@16_i_gede_ananda_pradnyana" target="_blank" title="KBRF Madyapadma">
                <img src="./archive-org.svg" alt="KBRF" width="20" style="filter: brightness(0);">
            </a>
            
            <p style="margin-top: 15px; color: #777;"> &copy; <script>document.write(new Date().getFullYear())</script> VOT Denpasar. All rights reserved.</p>
        </div>
    </footer>

    <script src="./utils.js"></script>
    <script src="./data.js"></script>
    <script src="./player.js"></script>
    <script src="./render.js"></script>
    <script src="./search.js"></script>
    <script src="./stream.js"></script>
    <script src="./main.js"></script>
</body>
</html>
